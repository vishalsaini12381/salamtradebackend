{"ast":null,"code":"var _jsxFileName = \"/home/shivendra/Desktop/techoffice/salamadmin/adminclient/src/createbusinesscategory/BusinessDataTable.js\";\nimport moment from 'moment'; // Example for onSort prop\n\nimport React, { Component } from 'react'; // Import React\n\nimport axios from 'axios';\nimport { Link, withRouter } from 'react-router-dom';\nimport Datatable from 'react-bs-datatable'; // Import this package\n\nimport swal from 'sweetalert';\nimport validator from 'validator';\nimport Switch from 'react-switch';\nimport $ from 'jquery';\nimport './createbusinesscategorypage.css';\nimport './datatable.css';\nimport './business.css';\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nconst URL = process.env.REACT_APP_LOCAL;\n\nclass BusinessDataTable extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      businessList: [],\n      modal: false,\n      businessId: '',\n      businesscategory: '',\n      // status : false,\n      // checked: false\n      isChecked: null\n    };\n    this.fetchBusiness = this.fetchBusiness.bind(this);\n    this.toggle = this.toggle.bind(this);\n    this.handleBusinessCategoryChange = this.handleBusinessCategoryChange.bind(this); // this.handleChange = this.handleChange.bind(this);\n    // this.onToggleSwitchChange = this.onToggleSwitchChange.bind(this);\n\n    this._handleChange = this._handleChange.bind(this);\n  }\n\n  toggle() {\n    this.setState({\n      modal: !this.state.modal\n    });\n  }\n\n  componentWillMount() {\n    this.fetchBusiness();\n  }\n\n  _handleChange() {\n    this.setState({\n      isChecked: !this.state.isChecked\n    });\n  } // onToggleSwitchChange(e) {\n  //   this.setState({\n  //     checked: !this.state.checked\n  //   });\n  //   let obj = {};\n  //   obj.businesscategoryId = e;\n  //   console.log('ObjectChange',obj,!this.state.checked);\n  // }\n  // handleChange(e,status) {\n  //   var arr = e;\n  //   console.log('handlechange',arr);\n  //   this.setState({ status : arr });\n  //   let obj = {};\n  //   obj.businesscategoryId = e;\n  //   obj.status = !this.state.status;\n  //   console.log('ObjectChange',obj);\n  //   }\n  // componentDidMount(){\n  //   $(document).ready(function(){\n  //     $(this).on('change',function(){\n  //         if(this.checked){\n  //           console.log('shivendra',this.checked);\n  //           $(this).text(false);\n  //         }\n  //           else{\n  //             $(this).text(true);\n  //           }\n  //       });\n  //   });\n  // }\n\n\n  handleBusinessCategoryChange(event) {\n    this.setState({\n      businesscategory: event.target.value\n    });\n  }\n\n  validate() {\n    let state = this.state;\n\n    if (validator.isEmpty(state.businesscategory.value)) {\n      state.businesscategory.isValidate = false;\n      state.businesscategory.message = 'Please Fill The Businee Category';\n      this.setState(state);\n      return false;\n    }\n\n    if (!state.productName.value.match(/^[A-Za-z ]+$/)) {\n      state.productName.isValidate = false;\n      state.productName.message = \"Must Be Letters\";\n      this.setState(state);\n      return false;\n    }\n\n    return true;\n  }\n\n  fetchBusiness() {\n    axios.post(URL + '/api/admin/fetchBusiness').then(response => {\n      console.log('HHHHHHHHHHHHHHHHH', response);\n      this.setState({\n        businessList: response.data.doc\n      });\n    });\n  }\n\n  editBusinessCategory(e) {\n    let that = this;\n    axios.get(URL + '/api/admin/editBusinessCategory/' + e).then(response => {\n      // console.log('???????????????/',response.data.businesscategory);\n      this.setState({\n        businessId: e,\n        businesscategory: response.data.businesscategory\n      });\n    });\n    that.toggle();\n  }\n\n  updateBusinessCategory(e, id) {\n    let that = this;\n    e.preventDefault();\n    console.log(';;;;;;;;;;;;;;;;;;;;;;;;;;', this.state);\n    const obj = {\n      businessId: this.state.businessId,\n      businesscategory: this.state.businesscategory,\n      checked: this.state.checked\n    };\n    console.log(']]]]]]]]]]]]]]]]]]]]]]]]]', obj);\n    axios.post(URL + '/api/admin/updateBusinessCategory/' + this.state.businessId, obj).then(function (response) {\n      console.log('response', response);\n\n      if (response.data.status === true) {\n        alert(response.data.message);\n        window.location = '/businesscategory';\n      } else {\n        alert(response.data.message);\n      }\n    });\n  }\n\n  deleteBusinessCat(e) {\n    swal({\n      title: \"Are you sure want to Delete?\",\n      // text: \"Once deleted, you will not be able to recover this imaginary file!\",\n      icon: \"warning\",\n      buttons: true,\n      dangerMode: true\n    }).then(willDelete => {\n      if (willDelete) {\n        axios.post(URL + '/api/admin/deleteBusinessCategory', {\n          businessId: e\n        }).then(res => {\n          swal(\"Delete Successfully\", {\n            icon: \"success\"\n          });\n        });\n        setTimeout(function () {\n          return window.location = '/businesscategory';\n        }, 2000);\n      } else {// swal(\"Your imaginary file is safe!\");\n      }\n    });\n  }\n\n  render() {\n    console.log('checked', this.state.isChecked);\n    const header = [{\n      title: 'Category',\n      prop: 'category',\n      sortable: true,\n      filterable: true\n    }, {\n      title: 'Status',\n      prop: 'status',\n      sortable: true,\n      filterable: true\n    }, {\n      title: 'Action',\n      prop: 'action',\n      sortable: true,\n      filterable: true\n    }];\n    let state = this.state;\n    const body = [];\n    state.businessList.map((e, i) => {\n      body.push({\n        'category': e.businesscategory,\n        'status': React.createElement(\"div\", {\n          className: \"switch-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          ref: \"switch\",\n          checked: this.state.isChecked,\n          onChange: this._handleChange,\n          className: \"switch\",\n          type: \"checkbox\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200\n          },\n          __self: this\n        })))) //  <div className='ToggleSwitch ToggleSwitch__rounded'>\n        // \t\t<div className='ToggleSwitch__wrapper'>\n        // \t\t\t<div className={`Slider ${this.state.checked && 'isChecked'}`} onClick={this.onToggleSwitchChange.bind(this,e._id)}></div>\n        // \t\t</div>\n        // \t</div>\n        //  <label>\n        //  <span>{this.state.status ? 'Favourite' : 'UnFavourite'}</span>\n        //   <Switch checked={this.state.status} onChange={this.handleChange.bind(this,e._id)}  />\n        //  </label>  \n        //   <div>\n        //   <label class=\"switch\">\n        //   <input id=\"on\" type=\"checkbox\" checked={this.state.status === false ? false : this.state.status}  />\n        //   <div class=\"slider round\"></div>\n        // </label>\n        // <p id=\"info\"></p>\n        // </div>\n        ,\n        'action': React.createElement(\"div\", {\n          className: \"actiontrans\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 221\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: \"#\",\n          onClick: this.toggle,\n          onClick: this.editBusinessCategory.bind(this, e._id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 222\n          },\n          __self: this\n        }, \" \", React.createElement(\"i\", {\n          className: \"fa fa-edit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 222\n          },\n          __self: this\n        }), \" \"), React.createElement(Modal, {\n          isOpen: this.state.modal,\n          toggle: this.toggle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223\n          },\n          __self: this\n        }, React.createElement(ModalHeader, {\n          toggle: this.toggle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224\n          },\n          __self: this\n        }), React.createElement(ModalBody, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227\n          },\n          __self: this\n        }, \"Business Category  \"), React.createElement(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          name: \"businesscategory\",\n          value: this.state.businesscategory,\n          onChange: this.handleBusinessCategoryChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 228\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          onClick: this.updateBusinessCategory.bind(this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 232\n          },\n          __self: this\n        }, \"Update\")), React.createElement(\"div\", {\n          style: {\n            marginTop: 10\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 234\n          },\n          __self: this\n        })), React.createElement(ModalFooter, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 238\n          },\n          __self: this\n        })), React.createElement(Link, {\n          to: \"#\",\n          onClick: this.deleteBusinessCat.bind(this, e._id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 242\n          },\n          __self: this\n        }, \" \", React.createElement(\"i\", {\n          className: \"fa fa-trash\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 242\n          },\n          __self: this\n        })), \" \")\n      });\n    });\n    const onSortFunction = {\n      date(columnValue) {\n        // Convert the string date format to UTC timestamp\n        // So the table could sort it by number instead of by string\n        return moment(columnValue, 'Do MMMM YYYY').valueOf();\n      }\n\n    };\n    const customLabels = {\n      first: '<<',\n      last: '>>',\n      prev: '<',\n      next: '>',\n      show: 'Display',\n      entries: 'rows',\n      noResults: 'There is no data to be displayed'\n    }; // In your render method\n\n    return React.createElement(\"div\", {\n      className: \"salam_datatabl\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, React.createElement(Datatable, {\n      tableHeader: header,\n      tableBody: body,\n      keyName: \"userTable\",\n      tableClass: \"striped hover responsive\",\n      rowsPerPage: 5,\n      rowsPerPageOption: [5, 10, 15, 20],\n      initialSort: {\n        prop: \"username\",\n        isAscending: true\n      },\n      onSort: onSortFunction,\n      labels: customLabels,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default BusinessDataTable;","map":{"version":3,"sources":["/home/shivendra/Desktop/techoffice/salamadmin/adminclient/src/createbusinesscategory/BusinessDataTable.js"],"names":["moment","React","Component","axios","Link","withRouter","Datatable","swal","validator","Switch","$","Modal","ModalHeader","ModalBody","ModalFooter","URL","process","env","REACT_APP_LOCAL","BusinessDataTable","constructor","props","state","businessList","modal","businessId","businesscategory","isChecked","fetchBusiness","bind","toggle","handleBusinessCategoryChange","_handleChange","setState","componentWillMount","event","target","value","validate","isEmpty","isValidate","message","productName","match","post","then","response","console","log","data","doc","editBusinessCategory","e","that","get","updateBusinessCategory","id","preventDefault","obj","checked","status","alert","window","location","deleteBusinessCat","title","icon","buttons","dangerMode","willDelete","res","setTimeout","render","header","prop","sortable","filterable","body","map","i","push","_id","marginTop","onSortFunction","date","columnValue","valueOf","customLabels","first","last","prev","next","show","entries","noResults","isAscending"],"mappings":"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","sourcesContent":["import moment from 'moment'; // Example for onSort prop\nimport React, { Component } from 'react'; // Import React\nimport axios from 'axios';\nimport {Link, withRouter} from 'react-router-dom';\nimport Datatable from 'react-bs-datatable'; // Import this package\nimport swal from 'sweetalert';\nimport validator from 'validator';\nimport Switch from 'react-switch';\nimport $ from 'jquery'; \nimport './createbusinesscategorypage.css';\nimport './datatable.css';\nimport './business.css';\nimport {  Modal,ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nconst URL = process.env.REACT_APP_LOCAL;\n\nclass BusinessDataTable extends Component{ \n    constructor(props){\n        super(props);\n        this.state = {\n        businessList : [],    \n        modal : false,\n        businessId : '',\n        businesscategory : '',\n        // status : false,\n         // checked: false\n   \t\t\tisChecked: null\n         \n\n        }\n      this.fetchBusiness = this.fetchBusiness.bind(this);\n      this.toggle = this.toggle.bind(this);\n      this.handleBusinessCategoryChange = this.handleBusinessCategoryChange.bind(this);\n      // this.handleChange = this.handleChange.bind(this);\n       // this.onToggleSwitchChange = this.onToggleSwitchChange.bind(this);\n       this._handleChange = this._handleChange.bind(this)       \n      };\n    \n      toggle(){\n        this.setState({\n          modal : !this.state.modal\n        })\n      }\n      \n      componentWillMount(){\n        this.fetchBusiness();\n      }\n      \n          \n    _handleChange () {\n      this.setState( { isChecked: !this.state.isChecked } );\n      }\n  \n\n      // onToggleSwitchChange(e) {\n      //   this.setState({\n      //     checked: !this.state.checked\n      //   });\n      //   let obj = {};\n      //   obj.businesscategoryId = e;\n      //   console.log('ObjectChange',obj,!this.state.checked);\n      // }\n\n      // handleChange(e,status) {\n      //   var arr = e;\n      //   console.log('handlechange',arr);\n      //   this.setState({ status : arr });\n      //   let obj = {};\n      //   obj.businesscategoryId = e;\n      //   obj.status = !this.state.status;\n      //   console.log('ObjectChange',obj);\n      //   }\n\n        // componentDidMount(){\n        //   $(document).ready(function(){\n        //     $(this).on('change',function(){\n        //         if(this.checked){\n        //           console.log('shivendra',this.checked);\n        //           $(this).text(false);\n        //         }\n        //           else{\n        //             $(this).text(true);\n        //           }\n        //       });\n        //   });\n        // }\n\n      handleBusinessCategoryChange(event){\n        this.setState({\n          businesscategory : event.target.value\n        })\n      }\n    \n      validate(){\n        let state = this.state;\n        if(validator.isEmpty(state.businesscategory.value)){\n          state.businesscategory.isValidate = false;\n          state.businesscategory.message = 'Please Fill The Businee Category';\n          this.setState(state);\n          return false;\n        }\n        if (!state.productName.value.match(/^[A-Za-z ]+$/)) {\n          state.productName.isValidate = false;\n          state.productName.message = \"Must Be Letters\";\n          this.setState(state);\n          return false;\n        }\n        return true;\n      }\n\n        fetchBusiness(){\n            axios.post(URL+'/api/admin/fetchBusiness').then((response)=>{\n              console.log('HHHHHHHHHHHHHHHHH',response);\n              this.setState({\n                businessList : response.data.doc\n              })\n            })\n          }\n\n          editBusinessCategory (e) {    \n            let that = this\n            axios.get(URL+'/api/admin/editBusinessCategory/'+e)\n                .then(response => {\n                  // console.log('???????????????/',response.data.businesscategory);\n                  this.setState({ \n                   businessId : e,\n                   businesscategory : response.data.businesscategory,  \n                  });\n                }) \n    \n                that.toggle()\n          }\n     \n          updateBusinessCategory(e,id) {\n            let that = this;\n            e.preventDefault();\n            console.log(';;;;;;;;;;;;;;;;;;;;;;;;;;',this.state);\n            const obj = {\n              businessId: this.state.businessId,\n              businesscategory: this.state.businesscategory,\n              checked : this.state.checked,\n            };\n            console.log(']]]]]]]]]]]]]]]]]]]]]]]]]',obj);\n            axios.post(URL+'/api/admin/updateBusinessCategory/'+this.state.businessId,obj)\n            .then(function(response){\n                console.log('response',response);\n                if(response.data.status === true){\n                    alert(response.data.message);\n                    window.location = '/businesscategory';\n                }  \n                else{\n                    alert(response.data.message);\n                }\n            });\n          }\n\n          deleteBusinessCat(e){\n            swal({\n              title: \"Are you sure want to Delete?\",\n              // text: \"Once deleted, you will not be able to recover this imaginary file!\",\n              icon: \"warning\",\n              buttons: true,\n              dangerMode: true,\n            }).then((willDelete)=>{\n              if(willDelete){\n                axios.post(URL+'/api/admin/deleteBusinessCategory',{\n                  businessId: e,\n                }).then(res=>{\n                  swal(\"Delete Successfully\",{\n                    icon:\"success\",\n                  });\n                })\n                setTimeout(function(){\n                  return window.location = '/businesscategory';\n                },2000)\n              }else{\n                // swal(\"Your imaginary file is safe!\");\n              }\n            });\n           }\n\nrender(){\n  console.log('checked',this.state.isChecked);\nconst header = [\n  { title: 'Category', prop: 'category', sortable: true, filterable: true },\n  { title: 'Status', prop: 'status', sortable: true ,filterable: true},\n  { title: 'Action', prop: 'action'    ,sortable: true , filterable: true },\n  ];\n \nlet state = this.state;\nconst body = [];\n  state.businessList.map((e,i)=>{\n    body.push({\n     'category':e.businesscategory,\n     'status': \n     <div className=\"switch-container\">\n     <label>\n         <input ref=\"switch\" checked={ this.state.isChecked } onChange={ this._handleChange } className=\"switch\" type=\"checkbox\" />\n         <div>\n   \n             <div></div>\n         </div>\n     </label>\n </div>\n    //  <div className='ToggleSwitch ToggleSwitch__rounded'>\n\t\t// \t\t<div className='ToggleSwitch__wrapper'>\n\t\t// \t\t\t<div className={`Slider ${this.state.checked && 'isChecked'}`} onClick={this.onToggleSwitchChange.bind(this,e._id)}></div>\n\t\t// \t\t</div>\n\t\t// \t</div>\n      //  <label>\n      //  <span>{this.state.status ? 'Favourite' : 'UnFavourite'}</span>\n      //   <Switch checked={this.state.status} onChange={this.handleChange.bind(this,e._id)}  />\n      //  </label>  \n    //   <div>\n    //   <label class=\"switch\">\n    //   <input id=\"on\" type=\"checkbox\" checked={this.state.status === false ? false : this.state.status}  />\n    //   <div class=\"slider round\"></div>\n    // </label>\n    // <p id=\"info\"></p>\n    // </div>\n     ,\n      'action': <div className=\"actiontrans\" > \n       <Link to = \"#\" onClick={this.toggle} onClick={this.editBusinessCategory.bind(this,e._id)}> <i className=\"fa fa-edit\"></i> </Link>\n       <Modal isOpen={this.state.modal} toggle={this.toggle} >\n          <ModalHeader toggle={this.toggle}></ModalHeader>\n          <ModalBody>\n                <div className=\"form-group\">\n                <label>Business Category  </label>\n                <input type=\"text\" className=\"form-control\" name = \"businesscategory\" value = {this.state.businesscategory} onChange = {this.handleBusinessCategoryChange} />\n                </div> \n                <div className=\"form-group\">\n              \n              <button onClick={this.updateBusinessCategory.bind(this)}>Update</button>\n                </div>\n           <div style={{ marginTop: 10 }}>\n         \n        </div>\n        </ModalBody>\n          <ModalFooter>\n            \n          </ModalFooter>\n        </Modal>\n       <Link to = \"#\" onClick = {this.deleteBusinessCat.bind(this,e._id)}  > <i className=\"fa fa-trash\"></i></Link> </div>  });\n  })\n \nconst onSortFunction = {\n  date(columnValue) {\n    // Convert the string date format to UTC timestamp\n    // So the table could sort it by number instead of by string\n    return moment(columnValue, 'Do MMMM YYYY').valueOf();\n  },\n};\n \nconst customLabels = {\n  first: '<<',\n  last: '>>',\n  prev: '<',\n  next: '>',\n  show: 'Display',\n  entries: 'rows',\n  noResults: 'There is no data to be displayed',\n};\n \n// In your render method\nreturn(\n  <div className=\"salam_datatabl\">\n<Datatable\n  tableHeader={header}\n  tableBody={body}\n  keyName=\"userTable\"\n  tableClass=\"striped hover responsive\"\n  rowsPerPage={5}\n  rowsPerPageOption={[5, 10, 15, 20]}\n  initialSort={{prop: \"username\", isAscending: true}}\n  onSort={onSortFunction}\n  labels={customLabels}\n/>\n</div>\n  )\n }\n}\n\n\n\nexport default BusinessDataTable;"]},"metadata":{},"sourceType":"module"}