{"ast":null,"code":"var _jsxFileName = \"/home/shivendra/Desktop/techoffice/salamadmin/adminclient/src/productlist/productDataTable.js\";\nimport moment from 'moment'; // Example for onSort prop\n\nimport React, { Component } from 'react'; // Import React\n\nimport axios from 'axios';\nimport { Link, withRouter } from 'react-router-dom';\nimport { bindActionCreators } from 'redux';\nimport action from '../action/action';\nimport { connect } from 'react-redux';\nimport Loader from 'react-loader-spinner';\nimport { render } from 'react-dom'; // Import render method\n\nimport Datatable from 'react-bs-datatable'; // Import this package\n// import { connect } from 'react-redux';\n\nimport swal from 'sweetalert';\nimport './datatable.css';\nconst URL = process.env.REACT_APP_LOCAL;\n\nclass ProductDataTable extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      productList: [],\n      //   type \t : 'Vendor',\n      visible: false\n    };\n    this.productFetch = this.productFetch.bind(this);\n  }\n\n  productFetch() {\n    let obj = {}; // obj.type = this.state.type;\n\n    axios.post(URL + '/api/productList', obj).then(response => {\n      console.log('BBBBBBBBBBBBBBBBBB', response.data.product);\n      this.setState({\n        productList: response.data.product\n      });\n    });\n  }\n\n  vendor(e, i) {}\n\n  componentWillMount() {\n    this.productFetch();\n  }\n\n  product(e, i) {\n    this.setState({\n      visible: true\n    });\n    axios.post(URL + '/api/fetchProductList', {\n      productId: e.state.productList[i]._id,\n      userId: this.props.vendorId\n    }).then(response => {\n      console.log('~~~~~~~~~~````````````````', response);\n\n      if (response.data.status === true) {\n        this.setState({\n          visible: false\n        });\n\n        if (response) {\n          this.props.product({\n            type: 'product',\n            payload: response.data\n          });\n        }\n      } else {\n        this.setState({\n          visible: false\n        });\n      }\n    });\n    this.props.history.replace('/Productdetail');\n  }\n\n  render(e, i) {\n    const header = [{\n      title: 'Business Category',\n      prop: 'businesscategory',\n      sortable: true,\n      filterable: true\n    }, {\n      title: 'Category',\n      prop: 'category',\n      sortable: true,\n      filterable: true\n    }, {\n      title: 'Product Name',\n      prop: 'productname',\n      sortable: true,\n      filterable: true\n    }, // { title: 'Name Uppercased', prop: 'realnameuppercase', cell: (row) => row.realname.toUpperCase() },\n    {\n      title: 'Price',\n      prop: 'price',\n      sortable: true,\n      filterable: true\n    }, {\n      title: 'Quantity',\n      prop: 'quantity',\n      sortable: true,\n      filterable: true\n    }, {\n      title: 'Discount',\n      prop: 'discount',\n      sortable: true,\n      filterable: true\n    }, {\n      title: 'Action',\n      prop: 'action',\n      sortable: true,\n      filterable: true\n    }];\n    let state = this.state;\n    const body = [];\n    state.productList.map((e, i) => {\n      body.push({\n        'businesscategory': e.businesscategoryId.businesscategory,\n        'category': e.categoryId.category,\n        'productname': e.productName,\n        'price': e.productPrice,\n        'quantity': e.quantity,\n        'discount': e.discount,\n        'action': React.createElement(\"div\", {\n          className: \"actiontrans\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: \"#\",\n          onClick: e => this.product(this, i),\n          value: e._id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, \" \", React.createElement(\"i\", {\n          className: \"fa fa-eye \",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        })), \" \\xA0\")\n      });\n    });\n    const onSortFunction = {\n      date(columnValue) {\n        // Convert the string date format to UTC timestamp\n        // So the table could sort it by number instead of by string\n        return moment(columnValue, 'Do MMMM YYYY').valueOf();\n      }\n\n    };\n    const customLabels = {\n      first: '<<',\n      last: '>>',\n      prev: '<',\n      next: '>',\n      show: 'Display',\n      entries: 'rows',\n      noResults: 'There is no data to be displayed'\n    }; // In your render method\n\n    return React.createElement(\"div\", {\n      className: \"salam_datatabl\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(Loader, {\n      visible: this.state.visible,\n      type: \"Puff\",\n      className: \"signuploader\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }), React.createElement(Datatable, {\n      tableHeader: header,\n      tableBody: body,\n      keyName: \"userTable\",\n      tableClass: \"striped hover responsive\",\n      rowsPerPage: 5,\n      rowsPerPageOption: [5, 10, 15, 20],\n      initialSort: {\n        prop: \"username\",\n        isAscending: true\n      },\n      onSort: onSortFunction,\n      labels: customLabels,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  console.log('pppppppppppppppppppppp', state.productReduce);\n  return {\n    productState: state.productReduce.productState,\n    // email: state.inititateState.email,\n    userId: state.inititateState.userId\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    product: bindActionCreators(action.product, dispatch)\n  };\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(ProductDataTable));","map":{"version":3,"sources":["/home/shivendra/Desktop/techoffice/salamadmin/adminclient/src/productlist/productDataTable.js"],"names":["moment","React","Component","axios","Link","withRouter","bindActionCreators","action","connect","Loader","render","Datatable","swal","URL","process","env","REACT_APP_LOCAL","ProductDataTable","constructor","props","state","productList","visible","productFetch","bind","obj","post","then","response","console","log","data","product","setState","vendor","e","i","componentWillMount","productId","_id","userId","vendorId","status","type","payload","history","replace","header","title","prop","sortable","filterable","body","map","push","businesscategoryId","businesscategory","categoryId","category","productName","productPrice","quantity","discount","onSortFunction","date","columnValue","valueOf","customLabels","first","last","prev","next","show","entries","noResults","isAscending","mapStateToProps","productReduce","productState","inititateState","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import moment from 'moment'; // Example for onSort prop\nimport React, { Component } from 'react'; // Import React\nimport axios from 'axios';\nimport {Link, withRouter} from 'react-router-dom';\nimport {bindActionCreators} from 'redux';\nimport action from '../action/action';\nimport {connect} from 'react-redux';\nimport Loader from 'react-loader-spinner'\nimport { render } from 'react-dom'; // Import render method\nimport Datatable from 'react-bs-datatable'; // Import this package\n// import { connect } from 'react-redux';\nimport swal from 'sweetalert';\nimport './datatable.css'\nconst URL = process.env.REACT_APP_LOCAL;\n\n \nclass ProductDataTable extends Component{ \n    constructor(props){\n        super(props);\n        this.state = {\n          productList : [],\n        //   type \t : 'Vendor',\n        visible  : false,\n        }\n        this.productFetch = this.productFetch.bind(this);\n      }\n    \n        productFetch(){\n          let obj = {};\n                // obj.type = this.state.type;\n          axios.post(URL+'/api/productList',obj).then((response)=>{\n            console.log('BBBBBBBBBBBBBBBBBB',response.data.product);\n            this.setState({\n              productList: response.data.product\n            })\n          })\n        }\n    \n        vendor(e,i){\n        }\n\n        componentWillMount(){\n          this.productFetch();\n        }\n\n\n        product(e,i){\n          this.setState({visible : true});\n            axios.post(URL+'/api/fetchProductList',{\n                productId : e.state.productList[i]._id,\n                userId : this.props.vendorId,\n            }).then((response)=>{\n              console.log('~~~~~~~~~~````````````````',response);\n              if(response.data.status === true){\n                this.setState({visible: false});\n                if(response){\n                    this.props.product({\n                        type : 'product',\n                        payload : response.data\n                    })\n                }\n              }else{\n                this.setState({visible: false});\t\t\t\t\t\n              }\n            })\n            this.props.history.replace('/Productdetail');\n        }\n\nrender(e,i){\nconst header = [\n  { title: 'Business Category', prop: 'businesscategory', sortable: true, filterable: true },\n  { title: 'Category', prop: 'category', sortable: true, filterable: true },\n  { title: 'Product Name', prop: 'productname', sortable: true ,filterable: true},\n  // { title: 'Name Uppercased', prop: 'realnameuppercase', cell: (row) => row.realname.toUpperCase() },\n  { title: 'Price', prop: 'price',      sortable: true,filterable: true },\n  { title: 'Quantity', prop: 'quantity',sortable: true,filterable: true },\n  { title: 'Discount', prop: 'discount',sortable: true,filterable: true }, \n  { title: 'Action', prop: 'action'    ,sortable: true , filterable: true },\n  ];\n \nlet state = this.state;\nconst body = [];\n  state.productList.map((e,i)=>{\n    body.push({\n    'businesscategory': e.businesscategoryId.businesscategory,\n    'category' : e.categoryId.category,\n     'productname':e.productName,\n     'price': e.productPrice,\n      'quantity': e.quantity,\n      'discount' : e.discount,\n      'action': <div className=\"actiontrans\" > \n       <Link to = \"#\" onClick = {(e)=> this.product(this,i)} value = {e._id} > <i className=\"fa fa-eye \"></i></Link> &nbsp;\n       {/* <Link to = \"#\"  > <i className=\"fa fa-edit\"></i></Link> &nbsp; */}\n       {/* <Link to = \"#\"  > <i className=\"fa fa-trash\"></i></Link>  */}\n       </div>  });\n  })\n \nconst onSortFunction = {\n  date(columnValue) {\n    // Convert the string date format to UTC timestamp\n    // So the table could sort it by number instead of by string\n    return moment(columnValue, 'Do MMMM YYYY').valueOf();\n  },\n};\n \nconst customLabels = {\n  first: '<<',\n  last: '>>',\n  prev: '<',\n  next: '>',\n  show: 'Display',\n  entries: 'rows',\n  noResults: 'There is no data to be displayed',\n};\n \n// In your render method\nreturn(\n<div className=\"salam_datatabl\">\n<Loader visible = {this.state.visible} type=\"Puff\" className=\"signuploader\" />\n<Datatable\n  tableHeader={header}\n  tableBody={body}\n  keyName=\"userTable\"\n  tableClass=\"striped hover responsive\"\n  rowsPerPage={5}\n  rowsPerPageOption={[5, 10, 15, 20]}\n  initialSort={{prop: \"username\", isAscending: true}}\n  onSort={onSortFunction}\n  labels={customLabels}\n/>\n</div>\n  )\n }\n}\n\nfunction mapStateToProps(state){\n    console.log('pppppppppppppppppppppp',state.productReduce);\n  return {\n    productState : state.productReduce.productState,\n    // email: state.inititateState.email,\n    userId: state.inititateState.userId,\n  }\n}\n\nfunction mapDispatchToProps(dispatch){\n\treturn {\n    product : bindActionCreators(action.product, dispatch),\n\t}\n}\n\nexport default withRouter(connect(mapStateToProps,mapDispatchToProps)(ProductDataTable));"]},"metadata":{},"sourceType":"module"}