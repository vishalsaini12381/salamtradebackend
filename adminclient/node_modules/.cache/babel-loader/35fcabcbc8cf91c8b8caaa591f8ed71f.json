{"ast":null,"code":"var _jsxFileName = \"/home/shivendra/Desktop/techoffice/salamadmin/adminclient/src/createcategory/categoryDataTable.js\";\nimport moment from 'moment'; // Example for onSort prop\n\nimport React, { Component } from 'react'; // Import React\n\nimport axios from 'axios';\nimport { Link, withRouter } from 'react-router-dom';\nimport { render } from 'react-dom'; // Import render method\n\nimport Datatable from 'react-bs-datatable'; // Import this package\n// import { connect } from 'react-redux';\n\nimport swal from 'sweetalert';\n\nclass CategoryDataTable extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      businessList: [],\n      categoryList: []\n    };\n    this.fetchBusiness = this.fetchBusiness.bind(this);\n    this.fetchCategory = this.fetchCategory.bind(this);\n  }\n\n  componentWillMount() {\n    this.fetchBusiness();\n    this.fetchCategory();\n  }\n\n  fetchBusiness() {\n    axios.post('http://localhost:3300/api/fetchBusiness').then(response => {\n      console.log('HHHHHHHHHHHHHHHHH', response);\n      this.setState({\n        businessList: response.data.doc\n      });\n    });\n  }\n\n  fetchCategory() {\n    axios.post('http://localhost:3300/api/fetchcategory').then(resp => {\n      console.log('KKKKKKKKKKKKKKKKKKKK', resp);\n      this.setState({\n        categoryList: resp.data.category\n      });\n    });\n  }\n\n  deleteBusinessCat(e) {\n    swal({\n      title: \"Are you sure?\",\n      text: \"Once deleted, you will not be able to recover this imaginary file!\",\n      icon: \"warning\",\n      buttons: true,\n      dangerMode: true\n    }).then(willDelete => {\n      if (willDelete) {\n        axios.post('http://localhost:3300/api/deleteBusinessCategory', {\n          businessId: e\n        }).then(res => {\n          swal(\"Poof! Your imaginary file has been deleted!\", {\n            icon: \"success\"\n          });\n        });\n        setTimeout(function () {\n          return window.location = '/category';\n        }, 2000);\n      } else {\n        swal(\"Your imaginary file is safe!\");\n      }\n    });\n  }\n\n  render() {\n    const header = [{\n      title: 'Business Category',\n      prop: 'businesscategory',\n      sortable: true,\n      filterable: true\n    }, {\n      title: 'Category',\n      prop: 'category',\n      sortable: true,\n      filterable: true\n    }, {\n      title: 'Status',\n      prop: 'status',\n      sortable: true,\n      filterable: true\n    }, // { title: 'Name Uppercased', prop: 'realnameuppercase', cell: (row) => row.realname.toUpperCase() },\n    {\n      title: 'Action',\n      prop: 'action',\n      sortable: true,\n      filterable: true\n    }];\n    let state = this.state;\n    const body = [];\n    state.businessList.map((e, i) => {\n      state.categoryList.map(i => {\n        body.push({\n          'businesscategory': e.businesscategory,\n          'category': i.category,\n          'status': React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 85\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"card-options\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 86\n            },\n            __self: this\n          }, React.createElement(\"label\", {\n            className: \"custom-switch m-0\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 87\n            },\n            __self: this\n          }, React.createElement(\"input\", {\n            type: \"checkbox\",\n            value: \"1\",\n            className: \"custom-switch-input\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 88\n            },\n            __self: this\n          }), React.createElement(\"span\", {\n            className: \"custom-switch-indicator\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 89\n            },\n            __self: this\n          })))),\n          'action': React.createElement(\"div\", {\n            className: \"actiontrans\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 93\n            },\n            __self: this\n          }, React.createElement(Link, {\n            to: \"#\",\n            onClick: this.deleteBusinessCat.bind(this, e._id),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 94\n            },\n            __self: this\n          }, \" \", React.createElement(\"i\", {\n            className: \"fa fa-trash\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 94\n            },\n            __self: this\n          })), \" \")\n        });\n      });\n    });\n    const onSortFunction = {\n      date(columnValue) {\n        // Convert the string date format to UTC timestamp\n        // So the table could sort it by number instead of by string\n        return moment(columnValue, 'Do MMMM YYYY').valueOf();\n      }\n\n    };\n    const customLabels = {\n      first: '<<',\n      last: '>>',\n      prev: '<',\n      next: '>',\n      show: 'Display',\n      entries: 'rows',\n      noResults: 'There is no data to be displayed'\n    }; // In your render method\n\n    return React.createElement(Datatable, {\n      tableHeader: header,\n      tableBody: body,\n      keyName: \"userTable\",\n      tableClass: \"striped hover responsive\",\n      rowsPerPage: 5,\n      rowsPerPageOption: [5, 10, 15, 20],\n      initialSort: {\n        prop: \"username\",\n        isAscending: true\n      },\n      onSort: onSortFunction,\n      labels: customLabels,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default CategoryDataTable;","map":{"version":3,"sources":["/home/shivendra/Desktop/techoffice/salamadmin/adminclient/src/createcategory/categoryDataTable.js"],"names":["moment","React","Component","axios","Link","withRouter","render","Datatable","swal","CategoryDataTable","constructor","props","state","businessList","categoryList","fetchBusiness","bind","fetchCategory","componentWillMount","post","then","response","console","log","setState","data","doc","resp","category","deleteBusinessCat","e","title","text","icon","buttons","dangerMode","willDelete","businessId","res","setTimeout","window","location","header","prop","sortable","filterable","body","map","i","push","businesscategory","_id","onSortFunction","date","columnValue","valueOf","customLabels","first","last","prev","next","show","entries","noResults","isAscending"],"mappings":"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","sourcesContent":["import moment from 'moment'; // Example for onSort prop\nimport React, { Component } from 'react'; // Import React\nimport axios from 'axios';\nimport {Link, withRouter} from 'react-router-dom';\nimport { render } from 'react-dom'; // Import render method\nimport Datatable from 'react-bs-datatable'; // Import this package\n// import { connect } from 'react-redux';\nimport swal from 'sweetalert';\n \nclass CategoryDataTable extends Component{ \n    constructor(props){\n        super(props);\n        this.state = {\n        businessList : [],  \n        categoryList : [],          \n        }\n    this.fetchBusiness = this.fetchBusiness.bind(this);\n    this.fetchCategory = this.fetchCategory.bind(this);\n      }\n        componentWillMount(){\n          this.fetchBusiness();\n          this.fetchCategory();\n        }\n\n        fetchBusiness(){\n            axios.post('http://localhost:3300/api/fetchBusiness').then((response)=>{\n              console.log('HHHHHHHHHHHHHHHHH',response);\n              this.setState({\n                businessList : response.data.doc\n              })\n            })\n          }\n\n        fetchCategory(){\n            axios.post('http://localhost:3300/api/fetchcategory').then((resp)=>{\n                console.log('KKKKKKKKKKKKKKKKKKKK',resp);\n                this.setState({\n                    categoryList : resp.data.category\n                })\n            })\n        }\n\n          deleteBusinessCat(e){\n            swal({\n              title: \"Are you sure?\",\n              text: \"Once deleted, you will not be able to recover this imaginary file!\",\n              icon: \"warning\",\n              buttons: true,\n              dangerMode: true,\n            }).then((willDelete)=>{\n              if(willDelete){\n                axios.post('http://localhost:3300/api/deleteBusinessCategory',{\n                  businessId: e,\n                }).then(res=>{\n                  swal(\"Poof! Your imaginary file has been deleted!\",{\n                    icon:\"success\",\n                  });\n                })\n                setTimeout(function(){\n                  return window.location = '/category';\n                },2000)\n              }else{\n                swal(\"Your imaginary file is safe!\");\n              }\n            });\n           }\n\n\nrender(){\nconst header = [\n  { title: 'Business Category', prop: 'businesscategory', sortable: true, filterable: true },\n  { title: 'Category', prop: 'category', sortable: true, filterable: true },\n  { title: 'Status', prop: 'status', sortable: true ,filterable: true},\n  // { title: 'Name Uppercased', prop: 'realnameuppercase', cell: (row) => row.realname.toUpperCase() },\n  { title: 'Action', prop: 'action'    ,sortable: true , filterable: true },\n  ];\n \nlet state = this.state;\nconst body = [];\n  state.businessList.map((e,i)=>{\n      state.categoryList.map((i)=>{\n    body.push({\n     'businesscategory':e.businesscategory,\n     'category' : i.category,\n     'status':      <td>\n     <div className=\"card-options\">\n         <label className=\"custom-switch m-0\">\n           <input type=\"checkbox\" value=\"1\" className=\"custom-switch-input\" />\n           <span className=\"custom-switch-indicator\"></span>\n         </label>\n       </div>\n     </td>,\n      'action': <div className=\"actiontrans\" > \n       <Link to = \"#\" onClick = {this.deleteBusinessCat.bind(this,e._id)}  > <i className=\"fa fa-trash\"></i></Link> </div>  });\n })\n})\n \nconst onSortFunction = {\n  date(columnValue) {\n    // Convert the string date format to UTC timestamp\n    // So the table could sort it by number instead of by string\n    return moment(columnValue, 'Do MMMM YYYY').valueOf();\n  },\n};\n \nconst customLabels = {\n  first: '<<',\n  last: '>>',\n  prev: '<',\n  next: '>',\n  show: 'Display',\n  entries: 'rows',\n  noResults: 'There is no data to be displayed',\n};\n \n// In your render method\nreturn(\n\n<Datatable\n  tableHeader={header}\n  tableBody={body}\n  keyName=\"userTable\"\n  tableClass=\"striped hover responsive\"\n  rowsPerPage={5}\n  rowsPerPageOption={[5, 10, 15, 20]}\n  initialSort={{prop: \"username\", isAscending: true}}\n  onSort={onSortFunction}\n  labels={customLabels}\n/>\n  )\n }\n}\n\n\n\nexport default CategoryDataTable;"]},"metadata":{},"sourceType":"module"}