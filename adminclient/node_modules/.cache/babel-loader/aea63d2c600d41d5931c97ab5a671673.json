{"ast":null,"code":"var _jsxFileName = \"/home/techgropse/Desktop/projects/salam_trade/salamfronteend/adminclient/src/createcategory/categoryDataTable.js\";\nimport moment from 'moment'; // Example for onSort prop\n\nimport React, { Component } from 'react'; // Import React\n\nimport axios from 'axios';\nimport { Link, withRouter } from 'react-router-dom';\nimport { render } from 'react-dom'; // Import render method\n\nimport Datatable from 'react-bs-datatable'; // Import this package\n// import { connect } from 'react-redux';\n\nimport swal from 'sweetalert';\nimport './datatable.css';\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nconst URL = process.env.REACT_APP_LOCAL;\n\nclass CategoryDataTable extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // businessList : [],  \n      categoryList: [],\n      modal: false,\n      categoryId: '',\n      category: ''\n    };\n    this.fetchCategory = this.fetchCategory.bind(this);\n    this.toggle = this.toggle.bind(this);\n    this.handleChangeCategory = this.handleChangeCategory.bind(this);\n  }\n\n  componentWillMount() {\n    this.fetchCategory();\n  }\n\n  toggle() {\n    this.setState({\n      modal: !this.state.modal\n    });\n  }\n\n  handleChangeCategory(event) {\n    this.setState({\n      category: event.target.value\n    });\n  }\n\n  fetchCategory() {\n    axios.post(URL + '/api/admin/fetchCategoryPage').then(resp => {\n      console.log('OOOOOOOOOOOOOOOO', resp.data.category);\n      this.setState({\n        categoryList: resp.data.category\n      });\n    });\n  }\n\n  editCategory(e) {\n    console.log('====================', e);\n    let that = this;\n    axios.get(URL + '/api/admin/editCategory/' + e).then(response => {\n      console.log('???????????????/', response.data.category);\n      this.setState({\n        categoryId: e,\n        category: response.data.category\n      });\n    });\n    that.toggle();\n  }\n\n  updateCategory(e, id) {\n    e.preventDefault();\n    const obj = {\n      categoryId: this.state.categoryId,\n      category: this.state.category\n    }; // console.log(']]]]]]]]]]]]]]]]]]]]]]]]]',obj);\n\n    axios.post(URL + '/api/admin/updateCategory/' + this.state.categoryId, obj).then(response => {\n      console.log('response', response);\n\n      if (response.data.status === true) {\n        alert(response.data.message);\n        window.location = \"/category\";\n      } else {\n        alert(response.data.message);\n      }\n    });\n  }\n\n  deleteCategory(e) {\n    swal({\n      title: \"Are you sure?\",\n      text: \"Once deleted, you will not be able to recover this imaginary file!\",\n      icon: \"warning\",\n      buttons: true,\n      dangerMode: true\n    }).then(willDelete => {\n      if (willDelete) {\n        axios.post(URL + '/api/admin/deleteCategory', {\n          businessId: e\n        }).then(res => {\n          swal(\"Poof! Your imaginary file has been deleted!\", {\n            icon: \"success\"\n          });\n        });\n        setTimeout(function () {\n          return window.location = '/category';\n        }, 2000);\n      } else {\n        swal(\"Your imaginary file is safe!\");\n      }\n    });\n  }\n\n  render() {\n    const header = [{\n      title: 'Business Category',\n      prop: 'businesscategory',\n      sortable: true,\n      filterable: true\n    }, {\n      title: 'Category',\n      prop: 'category',\n      sortable: true,\n      filterable: true\n    }, // { title: 'Status', prop: 'status', sortable: true ,filterable: true},\n    {\n      title: 'Action',\n      prop: 'action',\n      sortable: true,\n      filterable: true\n    }];\n    let state = this.state;\n    const body = [];\n    console.log('Hello', body);\n    const onSortFunction = {\n      date(columnValue) {\n        // Convert the string date format to UTC timestamp\n        // So the table could sort it by number instead of by string\n        return moment(columnValue, 'Do MMMM YYYY').valueOf();\n      }\n\n    };\n    const customLabels = {\n      first: '<<',\n      last: '>>',\n      prev: '<',\n      next: '>',\n      show: 'Display',\n      entries: 'rows',\n      noResults: 'There is no data to be displayed'\n    }; // In your render method\n\n    return React.createElement(\"div\", {\n      className: \"salam_datatabl\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(Datatable, {\n      tableHeader: header,\n      tableBody: body,\n      keyName: \"userTable\",\n      tableClass: \"striped hover responsive\",\n      rowsPerPage: 5,\n      rowsPerPageOption: [5, 10, 15, 20],\n      initialSort: {\n        prop: \"username\",\n        isAscending: true\n      },\n      onSort: onSortFunction,\n      labels: customLabels,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default CategoryDataTable;","map":{"version":3,"sources":["/home/techgropse/Desktop/projects/salam_trade/salamfronteend/adminclient/src/createcategory/categoryDataTable.js"],"names":["moment","React","Component","axios","Link","withRouter","render","Datatable","swal","Modal","ModalHeader","ModalBody","ModalFooter","URL","process","env","REACT_APP_LOCAL","CategoryDataTable","constructor","props","state","categoryList","modal","categoryId","category","fetchCategory","bind","toggle","handleChangeCategory","componentWillMount","setState","event","target","value","post","then","resp","console","log","data","editCategory","e","that","get","response","updateCategory","id","preventDefault","obj","status","alert","message","window","location","deleteCategory","title","text","icon","buttons","dangerMode","willDelete","businessId","res","setTimeout","header","prop","sortable","filterable","body","onSortFunction","date","columnValue","valueOf","customLabels","first","last","prev","next","show","entries","noResults","isAscending"],"mappings":"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","sourcesContent":["import moment from 'moment'; // Example for onSort prop\nimport React, { Component } from 'react'; // Import React\nimport axios from 'axios';\nimport {Link, withRouter} from 'react-router-dom';\nimport { render } from 'react-dom'; // Import render method\nimport Datatable from 'react-bs-datatable'; // Import this package\n// import { connect } from 'react-redux';\nimport swal from 'sweetalert';\nimport './datatable.css';\nimport {  Modal,ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nconst URL = process.env.REACT_APP_LOCAL;\n\n \nclass CategoryDataTable extends Component{ \n    constructor(props){\n        super(props);\n        this.state = {\n        // businessList : [],  \n        categoryList : [], \n        modal : false, \n        categoryId : '',\n        category : '',                      \n        }\n    this.fetchCategory = this.fetchCategory.bind(this);\n    this.toggle = this.toggle.bind(this);\n    this.handleChangeCategory = this.handleChangeCategory.bind(this);\n      }\n        componentWillMount(){\n          this.fetchCategory();\n        }\n\n        toggle(){\n          this.setState({\n            modal : !this.state.modal\n          })\n        }\n\n        handleChangeCategory(event){\n          this.setState({\n            category : event.target.value\n          })\n        }\n\n        fetchCategory(){\n            axios.post(URL+'/api/admin/fetchCategoryPage').then((resp)=>{\n              console.log('OOOOOOOOOOOOOOOO',resp.data.category);\n              this.setState({\n                categoryList : resp.data.category,\n              })\n            })\n          }\n\n          editCategory(e){\n            console.log('====================',e);\n\n            let that = this\n            axios.get(URL+'/api/admin/editCategory/'+e)\n            .then(response=>{\n              console.log('???????????????/',response.data.category);\n              this.setState({\n                categoryId : e,\n                category : response.data.category\n              })\n            })\n            that.toggle();\n          }\n\n\n          updateCategory(e,id){\n            e.preventDefault();\n            const obj = {\n              categoryId : this.state.categoryId,\n              category : this.state.category,\n            };\n            // console.log(']]]]]]]]]]]]]]]]]]]]]]]]]',obj);\n            axios.post(URL+'/api/admin/updateCategory/'+this.state.categoryId,obj)\n            .then(response =>{\n              console.log('response',response);\n              if(response.data.status === true){\n                alert(response.data.message);\n                window.location = \"/category\";\n              }else {\n                alert(response.data.message);\n              }              \n            })\n          }\n\n          deleteCategory(e){\n            swal({\n              title: \"Are you sure?\",\n              text: \"Once deleted, you will not be able to recover this imaginary file!\",\n              icon: \"warning\",\n              buttons: true,\n              dangerMode: true,\n            }).then((willDelete)=>{\n              if(willDelete){\n                axios.post(URL+'/api/admin/deleteCategory',{\n                  businessId: e,\n                }).then(res=>{\n                  swal(\"Poof! Your imaginary file has been deleted!\",{\n                    icon:\"success\",\n                  });\n                })\n                setTimeout(function(){\n                  return window.location = '/category';\n                },2000)\n              }else{\n                swal(\"Your imaginary file is safe!\");\n              }\n            });\n           }\n\n\nrender(){\nconst header = [\n  { title: 'Business Category', prop: 'businesscategory', sortable: true, filterable: true },\n  { title: 'Category', prop: 'category', sortable: true, filterable: true },\n  // { title: 'Status', prop: 'status', sortable: true ,filterable: true},\n  { title: 'Action', prop: 'action'    ,sortable: true , filterable: true },\n  ];\n \nlet state = this.state;\nconst body = [];\n  \n console.log('Hello',body);\nconst onSortFunction = {\n  date(columnValue) {\n    // Convert the string date format to UTC timestamp\n    // So the table could sort it by number instead of by string\n    return moment(columnValue, 'Do MMMM YYYY').valueOf();\n  },\n};\n \nconst customLabels = {\n  first: '<<',\n  last: '>>',\n  prev: '<',\n  next: '>',\n  show: 'Display',\n  entries: 'rows',\n  noResults: 'There is no data to be displayed',\n};\n \n// In your render method\nreturn(\n  <div className=\"salam_datatabl\">\n<Datatable\n  tableHeader={header}\n  tableBody={body}\n  keyName=\"userTable\"\n  tableClass=\"striped hover responsive\"\n  rowsPerPage={5}\n  rowsPerPageOption={[5, 10, 15, 20]}\n  initialSort={{prop: \"username\", isAscending: true}}\n  onSort={onSortFunction}\n  labels={customLabels}\n/>\n</div>\n  )\n }\n}\n\n\n\nexport default CategoryDataTable;"]},"metadata":{},"sourceType":"module"}