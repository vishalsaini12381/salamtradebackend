{"ast":null,"code":"var _jsxFileName = \"/home/techgropse/Desktop/projects/salam_trade/salamfronteend/salamclient/src/myorder/orderdatatable.js\";\nimport moment from 'moment'; // Example for onSort prop\n\nimport React, { Component } from 'react'; // Import React\n\nimport { render } from 'react-dom'; // Import render method\n\nimport Datatable from 'react-bs-datatable'; // Import this package\n\nimport { Link, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport swal from 'sweetalert';\nimport axios from 'axios';\nconst URL = process.env.REACT_APP_LOCAL;\n\nclass Orderdatatable extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      myOrders: [],\n      subTotal: 0,\n      total: 0,\n      totalProduct: 0\n    };\n  }\n\n  componentWillMount() {\n    this.fetchMyOrder();\n  }\n\n  fetchMyOrder() {\n    // console.log('this.props.userId',this.props.userId)\n    if (this.props.userId) {\n      axios.post(URL + '/api/user/myOrders', {\n        userId: this.props.userId\n      }).then(response => {\n        console.log('this.responsefdfddfdddddddddd', response.data.product);\n        this.setState({\n          myOrders: response.data.product\n        });\n      });\n    } else {\n      swal({\n        title: \"OOPS\",\n        text: \"Session expired.Please Login!\",\n        icon: \"warning\",\n        dangerMode: true,\n        closeOnClickOutside: false\n      }).then(d => {\n        //console.log('ddddddddddddddddddd',d)\n        if (d) {\n          return window.location = \"/Login\";\n        }\n      });\n    }\n  }\n\n  render() {\n    const header = [{\n      title: 'Order-id',\n      prop: 'orderid',\n      sortable: true,\n      filterable: true\n    }, {\n      title: 'Email',\n      prop: 'email',\n      sortable: true,\n      filterable: true\n    }, // { title: 'Amount', prop: 'amount', cell: (row) => row.realname.toUpperCase() },\n    {\n      title: 'Amount',\n      prop: 'amount',\n      filterable: true\n    }, {\n      title: 'Shipping Amount',\n      prop: 'shippingamount',\n      filterable: true\n    }, {\n      title: 'Total',\n      prop: 'total',\n      sortable: true,\n      filterable: true\n    }, {\n      title: 'View',\n      prop: 'view',\n      sortable: true,\n      filterable: true\n    }];\n    const body = [];\n    this.state.myOrders.map((e, i) => {\n      var obj = {\n        \"orderid\": e._id,\n        \"email\": e.userId.email,\n        \"amount\": e.price,\n        \"shippingamount\": e.shippingCharges,\n        \"total\": e.amount,\n        \"view\": \"View\"\n      };\n      body.push(obj);\n    });\n    const onSortFunction = {\n      date(columnValue) {\n        // Convert the string date format to UTC timestamp\n        // So the table could sort it by number instead of by string\n        return moment(columnValue, 'Do MMMM YYYY').valueOf();\n      }\n\n    };\n    const customLabels = {\n      first: '<<',\n      last: '>>',\n      prev: '<',\n      next: '>',\n      show: 'Display',\n      entries: 'rows',\n      noResults: 'There is no data to be displayed'\n    };\n    return React.createElement(Datatable, {\n      tableHeader: header,\n      tableBody: body,\n      keyName: \"userTable\",\n      tableClass: \"striped hover responsive\",\n      rowsPerPage: 5,\n      rowsPerPageOption: [5, 10, 15, 20],\n      initialSort: {\n        prop: \"email\",\n        isAscending: true\n      },\n      onSort: onSortFunction,\n      labels: customLabels,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    });\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  console.log('555555555555555555', state.inititateState.email);\n  return {\n    authenticateState: state.inititateState.authenticateState,\n    email: state.inititateState.email,\n    userId: state.inititateState.userId\n  };\n}\n\nexport default withRouter(connect(mapStateToProps)(Orderdatatable)); // export default Orderdatatable;","map":{"version":3,"sources":["/home/techgropse/Desktop/projects/salam_trade/salamfronteend/salamclient/src/myorder/orderdatatable.js"],"names":["moment","React","Component","render","Datatable","Link","withRouter","connect","swal","axios","URL","process","env","REACT_APP_LOCAL","Orderdatatable","constructor","props","state","myOrders","subTotal","total","totalProduct","componentWillMount","fetchMyOrder","userId","post","then","response","console","log","data","product","setState","title","text","icon","dangerMode","closeOnClickOutside","d","window","location","header","prop","sortable","filterable","body","map","e","i","obj","_id","email","price","shippingCharges","amount","push","onSortFunction","date","columnValue","valueOf","customLabels","first","last","prev","next","show","entries","noResults","isAscending","mapStateToProps","inititateState","authenticateState"],"mappings":"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","sourcesContent":["import moment from 'moment'; // Example for onSort prop\nimport React,{Component} from 'react'; // Import React\nimport { render } from 'react-dom'; // Import render method\nimport Datatable from 'react-bs-datatable'; // Import this package\n\n\nimport { Link, withRouter } from 'react-router-dom'\nimport {connect} from 'react-redux';\nimport swal from 'sweetalert';\nimport axios from 'axios';\nconst URL = process.env.REACT_APP_LOCAL;\n\nclass Orderdatatable extends Component{\n  constructor(props){\n    super(props);\n    this.state = {\n      myOrders : [],\n      subTotal : 0,\n      total:0,\n      totalProduct:0,\n    }\n  }\n\n  componentWillMount(){\n    this.fetchMyOrder();\n  }\n\n  fetchMyOrder(){\n    // console.log('this.props.userId',this.props.userId)\n    if(this.props.userId){\n      axios.post(URL+'/api/user/myOrders',{\n        userId:this.props.userId\n      }).then((response)=>{\n        \n          console.log('this.responsefdfddfdddddddddd',response.data.product);\n          this.setState({\n            myOrders : response.data.product,\n          })\n        \n        \n      })\n    }else{\n      swal({\n        title: \"OOPS\",\n        text: \"Session expired.Please Login!\",\n        icon: \"warning\",\n        dangerMode: true,\n        closeOnClickOutside: false,\n      }).then((d)=>{\n         //console.log('ddddddddddddddddddd',d)\n          if(d){\n          return window.location = \"/Login\"\n        }\n       })\n    }\n    \n  }\n\n\n\trender()\n\t{\n    const header = [\n  { title: 'Order-id', prop: 'orderid', sortable: true, filterable: true },\n  { title: 'Email', prop: 'email', sortable: true, filterable: true },\n  // { title: 'Amount', prop: 'amount', cell: (row) => row.realname.toUpperCase() },\n  { title: 'Amount', prop: 'amount', filterable: true },\n  { title: 'Shipping Amount', prop: 'shippingamount', filterable: true },\n  { title: 'Total', prop: 'total', sortable: true, filterable: true },\n  { title: 'View', prop: 'view', sortable: true, filterable: true },\n];\n \nconst body = [\n  \n];\n\nthis.state.myOrders.map((e,i)=>{\n  var obj={\n      \"orderid\":e._id,\n      \"email\":e.userId.email,\n      \"amount\":e.price,\n      \"shippingamount\":e.shippingCharges,\n      \"total\":e.amount,\n      \"view\":\"View\"\n  }\n  body.push(obj);\n})\n\n \nconst onSortFunction = {\n  date(columnValue) {\n    // Convert the string date format to UTC timestamp\n    // So the table could sort it by number instead of by string\n    return moment(columnValue, 'Do MMMM YYYY').valueOf();\n  },\n};\n \nconst customLabels = {\n  first: '<<',\n  last: '>>',\n  prev: '<',\n  next: '>',\n  show: 'Display',\n  entries: 'rows',\n  noResults: 'There is no data to be displayed',\n};\n\t\treturn(\n\n      <Datatable\n  tableHeader={header}\n  tableBody={body}\n  keyName=\"userTable\"\n  tableClass=\"striped hover responsive\"\n  rowsPerPage={5}\n  rowsPerPageOption={[5, 10, 15, 20]}\n  initialSort={{prop: \"email\", isAscending: true}}\n  onSort={onSortFunction}\n  labels={customLabels}\n/>\n\n\t\t\t)\n\t}\n}\n\n\nfunction mapStateToProps(state){\n  console.log('555555555555555555',state.inititateState.email);\n   return{\n      authenticateState : state.inititateState.authenticateState,\n      email: state.inititateState.email,\n      userId: state.inititateState.userId\n   }\n}\n\nexport default withRouter(connect(mapStateToProps)(Orderdatatable));\n\n// export default Orderdatatable;"]},"metadata":{},"sourceType":"module"}